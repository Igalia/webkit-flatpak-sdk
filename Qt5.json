{
    "name": "qt5-qtbase",
    "cleanup-platform": [ "/bin", "/mkspecs" ],
    "build-options" : {
        "arch" : {
            "x86_64" : {
                "config-opts" : [
                    "-reduce-relocations", "-force-debug-info"
                ]
            },
            "arm" : {
                "config-opts" : [
                    "-no-reduce-relocations", "-optimize-size", "-opengl es2"
                ]
            },
            "aarch64" : {
                "config-opts" : [
                    "-no-reduce-relocations", "-optimize-size", "-opengl es2"
                ]
            }
        }
    },
    "config-opts": [ "-confirm-license", "-opensource",
                     "-shared",
                     "-platform", "linux-g++",
                     "-optimized-qmake",
                     "-nomake", "examples",
                     "-nomake", "tests",
                     "-system-harfbuzz",
                     "-system-sqlite",
                     "-accessibility",
                     "-dbus-linked",
                     "-fontconfig",
                     "-glib",
                     "-icu",
                     "-openssl-linked",
                     "-no-pch",
                     "-no-rpath",
                     "-no-directfb",
                     "-no-linuxfb",
                     "-no-kms",
                     "-no-cups",
                     "-system-proxies",
                     "-gtk",
                     "-no-use-gold-linker",
                     "-archdatadir", "/usr/lib/"
                   ],
    "sources": [
        {
            "type": "archive",
            "url": "http://download.qt.io/archive/qt/5.14/5.14.1/submodules/qtbase-everywhere-src-5.14.1.tar.xz",
            "sha256": "d9d423a6e7bcf1055c0372fc029f14a6fe67dd62c67b83095cde68b60b762cf7"
        },
        {
            "type": "patch",
            "path": "qt-patches/qtbase-avoid-hardcoding-kernel-version.patch"
        },
        {
            "type": "patch",
            "path": "qt-patches/qtbase-use-wayland-on-gnome.patch"
        },
        {
            "//TODO": "Temporary fix for https://github.com/flatpak/flatpak/issues/3397.",
            "type": "patch",
            "path": "qt-patches/qtbase-revert-correct-handling-for-xdg-runtime-dir.patch"
        },
        {
            "type": "shell",
            "commands": [ "mv configure configure.qt" ]
        },
        {
            "type": "script",
            "commands": [
                "processed=`sed -e 's/--/-/g ; s/=/ /g' <<< $@`",
                "./configure.qt $processed"
            ],
            "dest-filename": "configure"
        }
    ]
},
{
    "name": "qt5-qtdeclarative",
    "buildsystem": "qmake",
    "cleanup-platform": [ "/bin", "/mkspecs", "lib/plugins/qmltooling" ],
    "sources": [
        {
            "type": "archive",
            "url": "http://download.qt.io/archive/qt/5.14/5.14.1/submodules/qtdeclarative-everywhere-src-5.14.1.tar.xz",
            "sha256": "762fe495d2f97fd70f06dc7d3929506ea3b5e3151ad813e0629209b7bc504c8a"
        },
        {
            "type": "patch",
            "path": "qt-patches/qtdeclarative-use-python3.patch"
        }
    ]
},
{
    "name": "qt5-qtquickcontrols",
    "buildsystem": "qmake",
    "cleanup-platform": [ "/bin", "/mkspecs" ],
    "sources": [
        {
            "type": "archive",
            "url": "http://download.qt.io/archive/qt/5.14/5.14.1/submodules/qtquickcontrols-everywhere-src-5.14.1.tar.xz",
            "sha256": "54519e7c6748bb9af46435a7ba2ce1c53e4ad164a70e88915fe0e61277540a1a"
        }
    ]
},
{
    "name": "qt5-qtquickcontrols2",
    "buildsystem": "qmake",
    "cleanup-platform": [ "/bin", "/mkspecs" ],
    "sources": [
        {
            "type": "archive",
            "url": "http://download.qt.io/archive/qt/5.14/5.14.1/submodules/qtquickcontrols2-everywhere-src-5.14.1.tar.xz",
            "sha256": "52d652c48933cc8416a91138eb6fb4c31625734265671f286b6c0d3e27d120ae"
        }
    ]
},
{
    "name": "qt5-wayland",
    "buildsystem": "qmake",
    "cleanup-platform": [ "/bin", "/mkspecs" ],
    "sources": [
        {
            "type": "archive",
            "url": "http://download.qt.io/archive/qt/5.14/5.14.1/submodules/qtwayland-everywhere-src-5.14.1.tar.xz",
            "sha256": "2a03b9f554e88c5824ef237c814b3dd45844c022e97be0e091f4a502ca4c9520"
        },
        {
            "type": "patch",
            "path": "qt-patches/qtwayland-use-gnome-platform-theme-on-gnome-based-desktops.patch"
        }
    ]
},
{
    "name": "qt5-qtx11extras",
    "buildsystem": "qmake",
    "cleanup-platform": [ "/bin", "/mkspecs" ],
    "sources": [
        {
            "type": "archive",
            "url": "http://download.qt.io/archive/qt/5.14/5.14.1/submodules/qtx11extras-everywhere-src-5.14.1.tar.xz",
            "sha256": "b268907deb06570671c1f584feb1508e7fded129209a268183decc122bfac181"
        }
    ]
},
